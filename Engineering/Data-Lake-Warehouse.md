## 데이터 엔지니어링 구축

### 데이터 레이크 vs 데이터 웨어하우스

|      구분       |     데이터 레이크      |   데이터 웨어하우스    |
| :-------------: | :--------------------: | :--------------------: |
| Data Structure  |          Raw           |       Processed        |
| Purpose of Data |   Not Yet Determined   |         In Use         |
|      Users      |    Data Scientists     | Business Professionals |
|  Accessibility  | High / Quick to update |  Complicated / Costly  |

**데이터 레이크** (Data Lake)는 직역하면 데이터 호수인데 비유해서 생각하면 산에서 내려오는 물을 하나의 데이터라고 생각하고 산을 따라 내려온 물이 모여 호수가 되면 사용자라고 할 수 있는 사람들이 호수에 있는 물을 떠가고 그 떠간 물을 가공해서 사용하는 것과 유사하다고 보면 좋을 것 같다. 그러다보니 데이터 레이크는 데이터 웨어하우스와 달리 Law 데이터, 원본 데이터를 주로 적재한다.

그래서 데이터 레이크는 목적이 정의되지 않은 데이터가 적재되는데, 그러다보니 주 사용자는 데이터 사이언티스트이다. 데이터 사이언티스트는 이렇게 적재된 데이터를 과거 호수에서 물을 떠서 가공을 하거나 수익을 얻었던 사람들과 유사하다고 생각하면 될 것 같다. 그러다보니 데이터 레이크는 데이터 웨어하우스보다 빠르고 많은 데이터가 자주 업데이트 되는 구조를 갖고 있다.

일반적으로 데이터 레이크는 수 많은 데이터 소스를 통합하는 것으로 사용되고 있기에 데이터 레이크는 분석 목적으로만 사용하고 운영 시스템들 간 연동을 위해 사용해서는 안된다. 만약 운영 시스템 연동을 목적으로 사용한다면 목적에 의해 설계된 RESTful API 호출이나 비동기 메시징 같은 서비스를 이용해야 한다. 그 이유는 데이터 레이크는 운영용 통신망으로 사용하기에는 복잡하기 때문이다.



> 데이터 웨어하우스(Data Warehouse)란 사용자의 의사 결정에 도움을 주기 위해 시스텡메 데이터베이스에 축적된 데이터를 공통의 형식으로 변환해서 관리하는 데이터베이스를 말한다. 줄여서 DW라고 부른다. - Wikipedia

**데이터 웨어하우스**(Data Warehouse)를 직역하면 데이터와 창고를 합친 의미로 데이터 창고로 읽을 수 있다. 이 말에 굉장히 동의하는데 그 이유는 데이터 레이크와 달리 이미 데이터베이스에 축적된 데이터를 공통의 형식으로 변환해서 관리하기 때문이다. 어떻게 보면 창고가 있고 여기에 물품을 하나씩 넣는다고 한다면 단순히 물품을 탑 쌓듯이 보관하는 건 효율도 좋지 않을 뿐더러 나중에 원하는 물품을 찾기 위해서는 비용이 많이 소요될 수 있다. (시간적이든 비용적이든) 그렇기에 컨테이너를 이용하여 물건을 보관하는 방법이 효율적일 수 있다. 이런 컨테이너를 공통의 형식이라고 한다면 창고에 데이터를 넣을 때에는 컨테이너를 활용하듯이 동일한 규격 혹은 형식으로 변환해서 데이터를 적재하는 것으로 이해하면 편할 것 같다. (내 생각)

그러다보니 데이터 웨어하우스는 데이터 레이크와 달리 일련의 과정을 거친 데이터가 저장되어 있고 사용 목적이 이미 결정되어 있는 데이터들이 보관된다. 이런 데이터를 사용하는 주체는 생각해보면 목적이 있는 데이터라면 주된 사용자 역시 결정되어 있을텐데, 주로 비지니스 모델에 관계자나 전문가가 사용한다. 단점은 하나의 데이터베이스에서 모인 데이터가 아니기에 여러 개의 데이터베이스의 데이터들이 모이는데 그러다보니 데이터의 양에 비례해서 비용이 기하급수적으로 상승한다. 

데이터 웨어하우스의 구성은 관리 하드웨어, 소프트웨어, 추출/변환/정렬 도구, 데이터 베이스 마케팅 시스템, 메타 데이터(meta data), 최종 사용자 접근 및 활용 도구로 구성되어 있고 데이터 웨어하우스는 경영자의 의사 결정을 지원하는 데이터의 집합체로 주제 지향적(subjectoriented), 통합적(integrated), 시계열적(timevarient), 비휘발적(nonvolatile)인 네 가지 특성을 지닌다. (여기까지 설명하기엔 너무 많지만 데이터 베이스의 일반적인 특징을 이어 받는다고 생각하면 좋을 것 같다.)





### ETL > ELT ?

**ETL**은 Extract > Transform > Load의 앞 글자를 딴 단어로 데이터를 추출하고 변환하고 불러오는 것을 말한다. 이렇게 생각할 수 있다. 음? 앞에서 이야기 했던 것들과 순서가 조금 다른 거 같은데라고, 글쓰는 시점에서 나도 헷갈린다. 데이터 레이크 시점에서 보면 ELT가 맞는 것 아닌가라고, Extract > Load > Transform 으로 생각하면 데이터를 추출하고 불러와서 변환하여 특정 결과를 얻는 거라고 생각하면 얼추 맞는게 아닌가라고 생각했다.

![39C743AD-12A8-4BE1-9F43-FA85F7B32300](https://user-images.githubusercontent.com/52126612/86505758-ade70800-be03-11ea-9a13-df8d3b942b21.jpg)



## Reference

* [데이터 레이크 - brunch](https://brunch.co.kr/@pubjinson/52)
* [데이터 엔지니어링 - Fast campus](https://www.fastcampus.co.kr/data_online_engineering)

